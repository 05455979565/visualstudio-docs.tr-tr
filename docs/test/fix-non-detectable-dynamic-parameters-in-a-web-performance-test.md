---
title: Visual Studio'da web performans testindeki dinamik parametreleri algılayamama Düzelt
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-ide-test
ms.openlocfilehash: d358a5f4035d3da1dee4a391fb07931b15d68733
ms.sourcegitcommit: 58052c29fc61c9a1ca55a64a63a7fdcde34668a4
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/04/2018
ms.locfileid: "34751052"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı Web sitelerine dinamik parametreleri bazı kendi web isteklerini işlemek için kullanın. Dinamik bir parametre değeri bir kullanıcı uygulamayı çalıştırdığında her zaman yeniden bir parametredir. Bir dinamik parametreyi bir oturum kimliği örneğidir Oturum kimliği genellikle her 5-30 dakika arasında değişir. Web Performans Testi Kaydedicisi ve kayıttan yürütme altyapısı, en sık karşılaşılan dinamik parametreleri otomatik olarak gerçekleştirir:

-   Bir tanımlama bilgisi değerinde ayarlanır dinamik parametre değerleri. Web performans testi motoru bu kayıttan yürütme sırasında otomatik olarak yönetir.

-   HTML sayfaları, ASP.NET gibi gizli alanları kümesindeki dinamik parametre değerleri durumunu görüntüleyin. Bunlar otomatik olarak test gizli alan ayıklama kuralları ekler kaydedici tarafından işlenir.

-   Sorgu dizesi veya form ayarlamak dinamik parametre değerleri parametreleri gönderin. Web performans testine kaydettikten sonra bunlar dinamik parametrelerin algılanması aracılığıyla işlenir.

Bazı dinamik parametreleri türleri algılanmaz. Algılanmayan bir dinamik parametreyi web performans testi çünkü testin her çalıştırılışında dinamik değeri farklı olacaktır çalıştırdığınızda, başarısız olmasına neden olur. Bu parametreleri doğru şekilde işlemek için ayıklama kuralları için dinamik parametreleri web performans testlerinde el ile ekleyebilirsiniz.

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Oluşturma ve Dinamik parametrelere sahip bir web uygulaması çalıştırma

Bir algılanabilir ve algılanamayan bir dinamik parametreyi göstermek için birkaç denetimleri ve bazı özel kod üç web forms sahip basit bir ASP.NET web uygulaması oluşturacaksınız. Biz ardından dinamik parametreleri ayırmak nasıl ve bunları nasıl ele alınacağını öğreneceksiniz.

1.  DynamicParamaterSample adlı yeni bir ASP.NET projesi oluşturun.

     ![Boş bir ASP.NET web uygulaması projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2.  Querystring.aspx adlı bir web formu ekleyin.

3.  Tasarım görünümünde, sayfaya ve içinde HiddenField sürükleyin sonra HiddenFieldSessionID (ID) özelliğinin değeri değiştirin.

     ![HiddenField ekleme](../test/media/web_test_dynamicparameter_hiddenfield.png)

4.  Querystring sayfasını kaynak görünümünü değiştirin ve aşağıdaki vurgulanmış sahte oturum kimliği dinamik parametreleri oluşturmak için kullanılan ASP.NET ve JavaScript kodu ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5.  Querystring.aspx.cs dosyasını açın ve aşağıdaki vurgulanmış kodu Page_Load yöntemine ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6.  ASPQuery.aspx adlı ikinci bir web formu ekleyin.

7.  Tasarım görünümünde, bir etiket sayfaya sürükleyin ve IndexLabel (ID) özelliğinin değeri değiştirin.

     ![Bir etiket eklemek için web formu](../test/media/web_test_dynamicparameter_label.png)

8.  Köprü sayfaya sürükleyin ve Text özelliğini Hyperlink geri değiştirin.

     ![Web formuna köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. Seçin (...) NavigationURL özelliği.

     ![NavigateURL özelliğini Düzenle](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     Querystring.aspx seçin.

     ![Querystring.aspx olmasını URL'si seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. ASPQuery.aspx.cs dosyasını açın ve aşağıdaki vurgulanmış kodu Page_Load yöntemine ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. JScriptQuery.aspx adlı üçüncü bir web formu ekleyin.

     İkinci sayfa için yaptığımız gibi bir etiket IndexLabel (ID) özelliğini ayarlama formun sürükleyin ve köprü arka ve kendi NavigationURL özelliğine Querystring.aspx text özelliğini ayarlama formun sürükleyin.

     ![Ekleme ve üçüncü web formu yapılandırma](../test/media/web_test_dynamicparameter_addwebform3.png)

12. JScriptQuery.aspx.cs dosyasını açın ve aşağıdaki vurgulanmış kodu Page_Load yöntemine ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydedin.

14. Çözüm Gezgini'nde Querystring.aspx başlangıç sayfası olarak ayarlayın.

     ![Başlangıç sayfası üzerinde Querystring.aspx Ayarla](../test/media/web_test_dynamicparameter_setstartpage.png)

15. Tarayıcıda Web uygulamasını çalıştırmak için CTRL + F5 tuşuna basın. URL'yi kopyalayın. Testinizi kaydettiğinizde gerekir.

16. Her iki bağlantı deneyin. Her ileti "başarılı. görüntülemesi gereken Dinamik sorgu dizesi parametresi bulunamadı."

     ![Web uygulaması çalıştırın](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarılı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1.  Bir web performansı ve yük testi projesi çözümünüze ekleyin.

     ![Bir web perfromance ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2.  WebTest1.webtest DynamicParameterSampleApp.webtest için yeniden adlandırın.

     ![Web performans testi yeniden adlandırma](../test/media/web_test_dynamicparameter_renametest.png)

3.  Test kaydedin.

     ![Web performans testini kaydetme](../test/media/web_test_dynamicparameter_recordtest.png)

4.  Kopyalama ve test ettiğiniz web sitesinden URL'yi tarayıcıya yapıştırın.

     ![Test edilen web sitesinden URL'sini yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5.  Web uygulaması aracılığıyla göz atın. ASP.NET bağlantı geri bağlantı ve sonra geri bağlantı tarafından izlenen javascript bağlantıyı seçin.

     Web Testi Kaydedicisi web uygulamasına gidin HTTP istek ve yanıt URL'leri görüntüler.

6.  Testi Kaydedicisi üzerinde Durdur düğmesini seçin.

     Dinamik parametreleri algılamak için iletişim kutusunda alınan HTTP yanıtları parametre algılama durumunu gösteren bir ilerleme çubuğu görüntülenir.

7.  ASPQuery sayfasını CustomQueryString için dinamik parametreyi otomatik olarak algılanır. Ancak, JScriptQuery sayfasındaki CustomQueryString için dinamik parametre algılanmadı.

     ASPQuery sayfasına bağlama Querystring.aspx bir ayıklama kuralı eklemek için Tamam'ı seçin.

     ![Algılanan dinamik parametre Yükselt](../test/media/web_test_dynamicparameter_promotedialog.png)

     Ayıklama kuralı Querystring.aspx için ilk istek eklenir.

     ![Ayıklama kuralı isteğine eklendi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     ASPQuery.aspx istek ağacında ikinci isteği'ni genişletin ve CustomQueryString'ın değerinin çıkarma kuralına bağlı olduğunu dikkat edin.

     ![Ayıklama kuralı CustomQueryString bağlı](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8.  Test kaydedin.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanan olmayan dinamik parametre yalıtmak için testi çalıştırma

1.  Testi çalıştırın.

     ![Web performans testini çalıştırma](../test/media/web_test_dynamicparameter_runtest.png)

2.  JScriptQuery.aspx sayfası dördüncü isteği başarısız olur. Web testi gidin.

     ![Dinamik parametre hatası test sonuçları](../test/media/web_test_dynamicparameter_runresults.png)

     JScriptQuery.aspx istek düğümü Düzenleyicisi'nde vurgulanır. Düğümünü genişletin ve CustomQueryString "1v0yhyiyr0raa2w4j4pwf5zl" bölümünü dinamik olarak görüntülendiğine dikkat edin.

     ![Dinamik parametre CustomQueryString şüpheli](../test/media/web_test_dynamicparameter_runresults2.png)

3.  Web Performans Testi Sonuçları Görüntüleyicisi dönün ve başarısız olan JScriptQuery.aspx sayfasını seçin. Ardından, istek sekmesini seçin, Göster ham verileri onay kutusunun işaretlenmemiş olduğunu doğrulayın, aşağı kaydırın ve CustomQueryString Hızlı Bul seçin.

     ![Dinamik parametre ayırmak için Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4.  JScriptQuery.aspx isteğinin CustomQueryString değeri atanan test Düzenleyicisi'ne bakarak gelen biliyoruz: `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl`, ve şüpheli dinamik bölüm "1v0yhyiyr0raa2w4j4pwf5zl" olduğunu. Bulunacak ne aşağı açılan listesinde, arama dizesi şüpheli bölümünü kaldırın. Dize olmalıdır "CustomQueryString jScriptQueryString___ =".

     Dinamik parametre değerlerine hatalı istek önündeki istekleri birinde atanır. Bu nedenle, arama onay kutusunu seçin ve istek istek panelinde vurgulanmış Querystring.aspx için önceki görene kadar Bul sonraki seçin. Bul üç kez sonraki seçtikten sonra olmalıdır.

     ![Dinamik parametre ayırmak için Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesini ve uygulanan JavaScript gösterildiği gibi önceki aşağıda gösterilen CustomQueryString sorgu dizesi parametresi "jScriptQueryString___" değerini atanır ve aynı zamanda var SessionID döndürülen değerle ile birleştirilmiş.

    ```
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Hatanın oluştuğu ve SessionID değeri ayıklamak ihtiyacımız biliyoruz göre. Ancak, daha fazla hata SessionID's gerçek değer görüntülendiği bir dizeyi bulmak deneyerek yalıtmak ihtiyacımız şekilde ayıklama değer yalnızca metin ' dir. Koda bakarak var SessionID HiddenFieldSessionID tarafından döndürülen değer eşit olduğunu görebilirsiniz.

5.  Kullanım hızlı arama onay kutusunu temizleyerek ve geçerli istek seçerek HiddenFieldSessionID üzerinde bulun.

     ![HiddenFieldSession üzerinde Hızlı Bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Bir değer değil özgün web performans testi olduğu gibi aynı dize kaydı döndürdüğünü dikkat edin. Bu test çalışması için döndürülen değer "5w4v3yrse4wa4axrafykqksq" ve özgün kaydında "1v0yhyiyr0raa2w4j4pwf5zl" değerdir. Değer, özgün kaydı eşleşmediğinden hatası oluşur.

6.  Biz özgün kayıt dinamik parametre düzeltmek olduğundan, araç çubuğunda kaydedilen sonuç seçin.

     ![Kaydedilen Sonuç seçin](../test/media/web_test_dynamicparameter_recordedresult.png)

7.  Kaydedilen sonuçlarında sonuçları testi içinde yalıtılmış aynı Querystringrequest.aspx isteği üçüncü isteği seçin.

     ![Aynı istekte kaydedilen sonuçları seçin](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, aşağı kaydırın ve "daha önce yalıtılmış 1v0yhyiyr0raa2w4j4pwf5zl" özgün dinamik parametre değerini seçin ve bir ayıklama kuralı ekleyin.

     ![Dinamik parametre için bir ayıklama kuralı ekleme](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni ayıklama kuralı Querystring.aspx isteğine eklenir ve 'Param0' değeri atanır.

     İletişim kutusu bize parametrenin bağlanacağı ayıklanan metin için eşleşme bulundu bilgisini verirse, Evet'i seçin.

     ![Oluşturulan ayıklama kuralı](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8.  Bul sonraki öğesini seçin. İlk değiştirmek için ihtiyacımız bir parametresi CustomQueryString için JScriptQuery sayfası için olduğu eşleşmedir.

     ![Parametresi için metin bulma ve değiştirme](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. Değiştir'i seçin.

     ![Parametresi ile değiştirir](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     Sorgu dizesi parametresi JScriptQuery.aspx isteği altındaki yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString = jScriptQueryString___ {{Param0}}.

     ![Sorgu dizesi için uygulanan parametresi](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. Bul kapatın ve iletişim değiştirin. Algılanan dinamik parametre algılanmayan ve, bağıntılı dinamik parametre arasındaki istek ağacında benzer yapıya dikkat edin.

     ![Algılanan ve ilişkili dinamik parametreleri](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Şimdi, hatasız çalışır.

## <a name="qa"></a>SORU- CEVAP

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>S: web Uygulamam değiştirilirse dinamik parametre algılama yeniden çalıştırabilirim?

 **Y:** Evet, aşağıdaki yordamı kullanın:

1.  Araç çubuğunda, dinamik parametreleri Yükselt Web testi parametrelerine düğmesini seçin.

     Dinamik parametreleri algılanırsa, algılama işlemi tamamlandıktan sonra dinamik parametreleri Yükselt web testi parametrelerinde iletişim kutusu görüntülenir.

     Dinamik parametreler dinamik parametreleri sütunu altında listelenir. Dinamik parametre gelen ayıklanır ve bağlı olduğunu istekleri yanıttan parametreyi yanıt ve bağ isteği sütunlara altında listelenir.

     Dinamik parametreleri Yükselt web testi parametreleri iletişim kutusu içinde bir dinamik parametreyi seçerseniz, iki istekleri Web Performans Testi Düzenleyicisi istek ağacında vurgulanır. İlk istek ayıklama kuralı eklenir istek olacaktır. Ayıklanan değerin bağlı olduğu ikinci isteğidir.

2.  Seçin veya otomatik olarak ilişkilendirmek istediğiniz dinamik parametreleri yanındaki onay kutusunu temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>S: dinamik parametreleri algılamak için Visual Studio'yu yapılandırma gerekiyor mu?

 **Y:** varsayılan Visual Studio dinamik parametreleri web performans testine kaydettiğinizde algılamak için yapılandırmadır. Ancak, varsa dinamik parametreleri algılamak değil için Visual Studio seçenekleri yapılandırılmış veya test edilen web uygulaması ek dinamik parametrelerle değiştiren; yine [dinamik parametre algılama Web Performans Testi Düzenleyicisi'nden çalıştırma](#FindingNonDetectableDynamicParamters_QA_ReRunDetection).