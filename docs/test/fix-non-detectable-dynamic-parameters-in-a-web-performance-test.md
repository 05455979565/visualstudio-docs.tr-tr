---
title: Web performans testinde tespit edilemeyen dinamik parametreleri düzeltme
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- walkthroughs, load tests
- load tests, walkthroughs
- load tests, correlating dynamic parameters
ms.assetid: 92dff25c-36ee-4135-acdd-315c4962fa11
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: b4328c5b71fa7023ec9c2ab68ae6725f5855ada5
ms.sourcegitcommit: cc841df335d1d22d281871fe41e74238d2fc52a6
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/18/2020
ms.locfileid: "75589649"
---
# <a name="fix-non-detectable-dynamic-parameters-in-a-web-performance-test"></a>Web performans testindeki dinamik parametreleri algılayamama sorununu çözme

Bazı web siteleri, web isteklerinin bazılarını işlemek için dinamik parametreler kullanır. Dinamik parametre, kullanıcı uygulamayı her çalıştırdığında değeri yeniden oluşturulan bir parametredir. Dinamik bir parametreörneği oturum kimliğidir. Oturum kimliği genellikle her 5 ila 30 dakikada bir değişir. Web performans test kaydedicisi ve oynatma altyapısı en yaygın dinamik parametreleri otomatik olarak işler:

- Çerez değerinde ayarlanan dinamik parametre değerleri. Web performans test motoru oynatma sırasında bunları otomatik olarak işler.

- HTML sayfalarındaki ASP.NET görünüm durumu gibi gizli alanlarda ayarlanan dinamik parametre değerleri. Bunlar otomatik olarak kaydedici tarafından işlenir ve bu da teste gizli alan ayıklama kuralları ekler.

- Sorgu dizesi veya form sonrası parametreleri olarak ayarlanan dinamik parametre değerleri. Bunlar, bir web performans testi kaydettikten sonra dinamik parametre algılama yoluyla işlenir.

Bazı dinamik parametreler algılanmaz. Algılanmayan dinamik parametre, test çalıştırıldığında dinamik değer farklı olacağından, çalıştırdığınızda web performans testinizin başarısız olmasına neden olur. Bu parametreleri doğru şekilde işlemek için, web performans testlerinizdeki dinamik parametrelere çıkarma kuralları nı el ile ekleyebilirsiniz.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

## <a name="create-and-run-a-web-app-with-dynamic-parameters"></a>Dinamik parametrelere sahip bir web uygulaması oluşturma ve çalıştırma

Hem algılanabilir hem de algılanabilir olmayan dinamik parametreyi göstermek için, birkaç denetim ve bazı özel kodiçeren üç web formuna sahip basit bir ASP.NET web uygulaması oluşturacağız. Daha sonra dinamik parametreleri nasıl izole edebileceğimizi ve bunları nasıl kullanacağımızı öğreneceğiz.

1. **DynamicParameterSample**adlı yeni bir ASP.NET projesi oluşturun.

     ![Boş bir ASP.NET web uygulama projesi oluşturma](../test/media/web_test_dynamicparameter_aspproject.png)

2. *Querystring.aspx*adlı bir web formu ekleyin.

3. Tasarım görünümünde, bir HiddenField'ı sayfaya sürükleyin ve ardından (ID) özelliğinin değerini HiddenFieldSessionID olarak değiştirin.

     ![HiddenField ekle](../test/media/web_test_dynamicparameter_hiddenfield.png)

4. Querystring sayfasının kaynak görünümünü değiştirin ve sahte oturum kimliği dinamik parametrelerini oluşturmak için kullanılan aşağıdaki vurgulanan ASP.NET ve JavaScript kodunu ekleyin:

    ```html
    <head runat="server">
    <title>JavaScript dynamic property correlation sample</title><script type="text/javascript" language="javascript">    <!--        function jScriptQueryString()         {            var Hidden = document.getElementById("HiddenFieldSessionID");            var sessionId = Hidden.value;            window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;         }    //--></script>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
             <a name="QuerystringHyperlink" href="ASPQuery.aspx?CustomQueryString=ASPQueryString___<%= Session.SessionID %>">Dynamic querystring generated by ASP.net</a>         <br/>         <br/>         <a href="javascript:jScriptQueryString()">Dynamic querystring generated by javascript </a>
        </div>
        <asp:HiddenField ID="HiddenFieldSessionID" runat="server" />
        </form>
    </body>
    </html>
    ```

5. *Querystring.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanan kodu ekleyin:

    ```csharp
    public partial class Querystring : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            Session.Add("Key", "Value");HiddenFieldSessionID.Value = Session.SessionID;
        }
    }
    ```

6. *ASPQuery.aspx*adlı ikinci bir web formu ekleyin.

7. Tasarım görünümünde, bir **Etiketi** sayfaya sürükleyin ve **(ID)** özelliğinin değerini **IndexLabel**olarak değiştirin.

     ![Web formuna etiket ekleme](../test/media/web_test_dynamicparameter_label.png)

8. Bir **HyperLink'i** sayfaya sürükleyin ve **Metin** özelliği için vale'yi **Geri**olarak değiştirin.

     ![Web formuna köprü ekleme](../test/media/web_test_dynamicparameter_hyperlink.png)

9. **NavigationURL** özelliği için **(...)** seçeneğini belirleyin.

     ![GezinmeURL özelliğini edin](../test/media/web_test_dynamicparameter_hyperlink_navurl.png)

     *Querystring.aspx'i*seçin.

     ![Querystring.aspx olacak URL'yi seçin](../test/media/web_test_dynamicparameter_hyperlink_navurl2.png)

10. *ASPQuery.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanan kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

11. *JScriptQuery.aspx*adlı üçüncü bir web formu ekleyin.

     İkinci sayfada yaptığımız gibi, bir **Etiketi** forma sürükleyin, **(ID)** özelliğini **IndexLabel'a** ayarlayın ve bir **Köprü'ü** forma sürükleyin, **Metin** özelliğini **Geri'ye**ve **NavigationURL** özelliğini **Querystring.aspx'e**ayarlar.

     ![Üçüncü web formunu ekleme ve yapılandırma](../test/media/web_test_dynamicparameter_addwebform3.png)

12. *JScriptQuery.aspx.cs* dosyasını açın ve Page_Load yöntemine aşağıdaki vurgulanmış kodu ekleyin:

    ```csharp
    protected void Page_Load(object sender, EventArgs e)
            {
                int index;            string qstring;            string dateportion;            string sessionidportion;            qstring = Request.QueryString["CustomQueryString"];            index = qstring.IndexOf("___");            dateportion = qstring.Substring(0, index);            index += 3;            sessionidportion = qstring.Substring(index, qstring.Length - index);            if (sessionidportion != Session.SessionID)            {                Response.StatusCode = 401;                IndexLabel.Text = "Failure!  Invalid querystring parameter found.";            }            else            {                IndexLabel.Text = "Success.  Dynamic querystring parameter was found.";            }            IndexLabel.Text += "<br>\r\n";
            }
    ```

13. Projeyi kaydet.

14. **Solution Explorer'da** *Querystring.aspx'ı* başlangıç sayfası olarak ayarlayın.

     ![Başlat sayfasını Querystring.aspx'te ayarlama](../test/media/web_test_dynamicparameter_setstartpage.png)

15. Tarayıcıdaki web uygulamasını çalıştırmak için **Ctrl**+**F5** tuşuna basın. URL'yi kopyalayın. Testinizi kaydederken ihtiyacınız olacak.

16. Her iki bağlantı deneyin. Her biri "Başarı" mesajını görüntülemeli. Dinamik querystring parametresi bulundu."

     ![Web uygulamasını çalıştırma](../test/media/web_test_dynamicparameter_runapp.png)

     ![Başarı&#33;](../test/media/web_test_dynamicparameter_runapp2.png)

## <a name="create-a-web-performance-test"></a>Web performans testi oluşturma

1. Çözümünüze bir web performansı ve yükleme testi projesi ekleyin.

     ![Web perfromance ve yük testi projesi ekleme](../test/media/web_test_dynamicparameter_addtestproject.png)

2. WebTest1.webtest'i DynamicParameterSampleApp.webtest olarak yeniden adlandırın.

     ![Web performans testini yeniden adlandırın](../test/media/web_test_dynamicparameter_renametest.png)

3. Testi kaydet.

     ![Web performans testini kaydetme](../test/media/web_test_dynamicparameter_recordtest.png)

4. Test ettiğiniz web sitesindeki URL'yi kopyalayıp tarayıcıya yapıştırın.

     ![Test edilen web sitesinden URL'yi yapıştırın](../test/media/web_test_dynamicparameter_recordtest2.png)

5. Web uygulamasına göz atın. ASP.NET bağlantısını, Geri Bağlantı'yı ve ardından javascript bağlantısını ve ardından arka bağlantıyı seçin.

     Web test kaydedicisi, web uygulamasında gezinirken HTTP istek ve yanıt URL'lerini görüntüler.

6. Test kaydedicisindeki **Durdur** düğmesini seçin.

     Dinamik parametreleri algılamak için iletişim kutusu, alınan HTTP yanıtlarında parametre algılama durumunu gösteren bir ilerleme çubuğu görüntüler.

7. ASPQuery sayfasındaki CustomQueryString için dinamik parametre otomatik olarak algılanır. Ancak, JScriptQuery sayfasında CustomQueryString için dinamik parametre algılanmaz.

     *Querystring.aspx'e*bir çıkarma kuralı eklemek için **Tamam'ı** seçin ve aspQuery sayfasına bağlayın.

     ![Algılanan dinamik parametreyi tanıtın](../test/media/web_test_dynamicparameter_promotedialog.png)

     Extraction kuralı *Querystring.aspx*için ilk istek eklenir.

     ![İsteğe çıkarma kuralı eklendi](../test/media/web_test_dynamicparameter_autoextractionrule.png)

     *ASPQuery.aspx* için istek ağacındaki ikinci isteği genişletin ve CustomQueryString'in değerinin çıkarma kuralına bağlı olduğunu fark edin.

     ![CustomQueryString çıkarma kuralına bağlı](../test/media/web_test_dynamicparameter_autoextractionrule2.png)

8. Testi kaydet.

## <a name="run-the-test-to-isolate-the-non-detected-dynamic-parameter"></a>Algılanmayan dinamik parametreyi yalıtmak için testi çalıştırın

1. Testi çalıştırın.

     ![Web performans testini çalıştırın](../test/media/web_test_dynamicparameter_runtest.png)

2. *JScriptQuery.aspx* sayfası için dördüncü istek başarısız olur. Web testine git.

     ![Test sonuçlarında dinamik parametre hatası](../test/media/web_test_dynamicparameter_runresults.png)

     *JScriptQuery.aspx* istek düğümü editörde vurgulanır. Düğümü genişletin ve CustomQueryString'in "1v0yhyiyr0raa2w4j4pwf5zl" bölümünün dinamik olduğunu fark edin.

     ![CustomQueryString'de şüpheli dinamik parametre](../test/media/web_test_dynamicparameter_runresults2.png)

3. Web Performans Testi Sonuçları Görüntüleyici'ne dönün ve başarısız olan *JScriptQuery.aspx* sayfasını seçin. Ardından, istek sekmesini seçin, ham veri onay kutusunun temizlendiğini doğrulayın, aşağı kaydırın ve CustomQueryString'de hızlı bul'u seçin.

     ![Dinamik parametreyi yalıtmak için hızlı bul'u kullanın](../test/media/web_test_dynamicparameter_runresultsquckfind.png)

4. Biz test editörü bakarak, *JScriptQuery.aspx* isteği's CustomQueryString bir değer atandı `jScriptQueryString___1v0yhyiyr0raa2w4j4pwf5zl`biliyorum: , ve şüpheli dinamik kısmı "1v0yhyiyr0raa2w4j4pwf5zl". Hangi açılır listede bulun, arama dizesinin şüpheli bölümünü kaldırın. Dize "CustomQueryString=jScriptQueryString___" olmalıdır.

     Dinamik parametreler, hata içeren istekten önce gelen isteklerden birinde değerlerini atanır. Bu nedenle, arama onay kutusunu seçin ve istek panelinde vurgulanan *Querystring.aspx* için önceki isteği görene kadar sonraki bul'u seçin. Bu, sonraki üç kez bul'u seçtikten sonra gerçekleşmelidir.

     ![Dinamik parametreyi yalıtmak için hızlı bul'u kullanın](../test/media/web_test_dynamicparameter_runresultsquckfind4.png)

     Yanıt sekmesinde gösterildiği gibi ve aşağıda daha önce uygulanan JavaScript'te, sorgu dizesi parametresi CustomQueryString"jScriptQueryString___" değeria atanır ve ayrıca var sessionId'den döndürülen değerle de birleştirilmiştir.

    ```javascript
    function jScriptQueryString()          {             var Hidden = document.getElementById("HiddenFieldSessionID");             var sessionId = Hidden.value;             window.location = 'JScriptQuery.aspx?CustomQueryString=jScriptQueryString___' + sessionId;          }

    ```

     Artık hatanın nerede oluştuğunu bildiğimize ve sessionId'in değerini ayıklamamız gerektiğine göre. Ancak, çıkarma değeri yalnızca metindir, bu nedenle sessionId'in gerçek değerinin görüntülendiği bir dize bulmaya çalışarak hatayı daha da yalıtmamız gerekir. Koda bakarak, var sessionId'in HiddenFieldSessionID tarafından döndürülen değere eşit olduğunu görebilirsiniz.

5. HiddenFieldSessionID'de hızlı bul'u kullanarak arama onay kutusunu temizleyin ve geçerli isteği seçin.

     ![HiddenFieldSession'da hızlı bul'u kullanma](../test/media/web_test_dynamicparameter_runresultsquckfindhiddensession.png)

     Döndürülen değerin özgün web performans testi kaydındaki yle aynı dize olmadığını unutmayın. Bu test çalışması için, döndürülen değer "5w4v3yrse4wa4axrafykqksq" ve orijinal kayıt, değeri "1v0yhyiyr0raa2w4j4pwf5zl". Değer özgün kaydın değeriyle eşleşmediği için hata oluşturulur.

6. Orijinal kayıttaki dinamik parametreyi düzeltmemiz gerekdığından, araç çubuğunda kaydedilmiş sonucu seçin.

     ![Kaydedilen sonucu seçin](../test/media/web_test_dynamicparameter_recordedresult.png)

7. Kaydedilen sonuçlarda, test çalıştırma sonuçlarında yalıtdığınız *querystringrequest.aspx* isteğiyle aynı olan üçüncü isteği seçin.

     ![Kaydedilen sonuçlarda aynı isteği seçme](../test/media/web_test_dynamicparameter_recordedresultsselectnode.png)

     Yanıt sekmesini seçin, aşağı kaydırın ve daha önce yalıtdığınız "1v0yhyiyr0raa2w4j4pwf5zl" orijinal dinamik parametre değerini seçin ve bir çıkarma kuralı ekleyin.

     ![Dinamik parametre için çıkarma kuralı ekleme](../test/media/web_test_dynamicparameter_recordedresultaddextractionrule.png)

     Yeni çıkarma kuralı *Querystring.aspx* isteğine eklenir ve 'Param0' değeri atanır.

     İletişim kutusu, çıkarılan metnin parametreyi bağlamak için eşleşmeler bulunduğunu bize bildirirse, **Evet'i**seçin.

     ![Ayıklama kuralı oluşturuldu](../test/media/web_test_dynamicparameter_addextractiondialog.png)

8. **Sonrakini Bul'u**seçin. İlk eşleşme, JScriptQuery sayfası için CustomQueryString parametresi olan değiştirmemiz gereken eşleşmedir.

     ![Parametre için metni bulma ve değiştirme](../test/media/web_test_dynamicparameter_addextractionfindreplace.png)

9. **Değiştir'i**seçin.

     ![Metni parametreyle değiştirme](../test/media/web_test_dynamicparameter_addextractionfindreplace2.png)

     *JScriptQuery.aspx* isteği altındaki QueryString parametresi yeni bağlam parametresi kullanılarak güncelleştirilir: CustomQueryString=jScriptQueryString___{{Param0}}.

     ![Querystring'e uygulanan parametre](../test/media/web_test_dynamicparameter_addextractionfindreplace3.png)

10. Bul **ve Değiştir** iletişim kutusunu kapatın. Algılanan dinamik parametre ile ilişkilendirdiğiniz algılanmayan dinamik parametre arasındaki istek ağacının benzer yapısına dikkat edin.

     ![Algılanan ve ilişkili dinamik parametreler](../test/media/web_test_dynamicparameter_conclusion.png)

11. Testi çalıştırın. Şimdi hatasız çalışıyor.

## <a name="qa"></a>Soru-Cevap

### <a name="q-can-i-re-run-dynamic-parameter-detection-if-my-web-app-gets-modified"></a>S: Web uygulamam değiştirilirse dinamik parametre algılamayı yeniden çalıştırabilir miyim?

**A:** Evet, aşağıdaki yordamı kullanın:

1. Araç çubuğunda, **Dinamik Parametreleri Web Test Parametreleri** için Tanıt düğmesini seçin.

     Algılama işlemi tamamlandıktan sonra, dinamik parametreler algılanırsa, **dinamik parametreleri web test parametreleri iletişim kutusuna yükseltin** görüntülenir.

     Dinamik parametreler Dinamik Parametreler sütunu altında listelenir. Dinamik parametrenin ayıklanıp bağlanacağı istekler Yanıt'tan Ayıklama Parametresi ve İstek sütunlarına Bağlama'nın altında listelenir.

     Web test parametreleri iletişim **kutusuna Dinamik Parametreleri Tanıt'da** dinamik bir parametre seçerseniz, Web Performans Testi Düzenleyicisi istek ağacında iki istek vurgulanır. İlk istek, çıkarma kuralının eklenme isteği olacaktır. İkinci istek, ayıklanan değerin bağlı olacağı yerdir.

2. Otomatik olarak ilişkilendirmek istediğiniz dinamik parametrelerin yanındaki onay kutusunu seçin veya temizleyin. Varsayılan olarak, tüm dinamik parametreler denetlenir.

### <a name="q-do-i-need-to-configure-visual-studio-to-detect-dynamic-parameters"></a>S: Dinamik parametreleri algılamak için Visual Studio'yı yapılandırmam gerekiyor mu?

**A:** Varsayılan Visual Studio yapılandırması, bir web performans testi kaydettiğinizde dinamik parametreleri algılamaktır. Ancak, Visual Studio seçeneklerinidinamik parametreleri algılamamak için yapılandırMışsanız veya test edilen web uygulaması ek dinamik parametrelerle değiştirilirse; Web Performans Testi Düzenleyicisi'nden dinamik parametre algılaması yapabilirsiniz.
